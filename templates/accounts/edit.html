{% extends 'base.html' %}
{% load static %}
{% load crispy_forms_tags %}

{% block title %}Edit Profile{% endblock %}

{% block content %}
<link rel="stylesheet" href="{% static 'accounts/css/edit.css' %}">
<section class="page-header">
    <div class="container">
        <h1>Edit Profile</h1>
        <p>Update your profile information below.</p>
    </div>
</section>

<section class="edit-profile-section">
    <div class="container">
        <form method="POST" enctype="multipart/form-data">
            {% csrf_token %}


            {{ profile_form.as_p }}





            {{ user_form.as_p }}
            <div class="image-upload">
                <label for="id_photo" class="upload-button">
                    <span>Select Image</span>
                </label>
                <input id="id_photo" type="file" accept="image/*"/>
            </div>

            <button type="submit" class="btn btn-primary">Save Changes</button>
        </form>
    </div>
</section>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        var fileInput = document.getElementById('id_photo');
        var fileLabel = document.querySelector('.upload-button span');

        fileInput.addEventListener('change', function(event) {
            var fileName = event.target.files[0] ? event.target.files[0].name : 'Select Image';
            fileLabel.textContent = fileName;
        });
    });
</script>
{% endblock %}
